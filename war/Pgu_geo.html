<!doctype html>
<html>
  <head>
    <!-- before your module(*.nocache.js) loading  -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if IE 7]>
    <link rel="stylesheet" href="pgu_geo/css/font-awesome-ie7.css">
    <![endif]-->
    <!-- your module(*.nocache.js) loading  -->
  
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    
    <link rel="icon" type="image/png" href="/img/favicon_globe.png" />
    <!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="/img/favicon_globe.png" /><![endif]-->      
    
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
    </style>
    
    <link type="text/css" rel="stylesheet" href="Pgu_geo.css">
    
    <title>Geo</title>
    
    <script type="text/javascript">
      
      function pgu_geo_load_map_api_callback() {
    	  
    	  if (typeof pgu_geo === 'undefined') {
    		  setTimeout(
    		      function() {
    		    	  pgu_geo_load_map_api_callback();
    		      }
    		      , 1000
			  );
    		  return;
    	  }
    	  
    	  pgu_geo.init_geo();    	  
      }
      
      function charts_callback() {
    	  
    	  if (typeof pgu_geo === 'undefined') {
    		  setTimeout(
    		      function() {
    		    	  charts_callback();
    		      }
    		      , 1000
			  );
    		  return;
    	  }
    	  
    	  pgu_geo.init_charts();    	  
      }
      
      function pgu_geo_load_charts_api_callback() {
    	  google.load('visualization', '1.0', {'packages': ['geochart', 'corechart'], 'callback':charts_callback});
      }
    
      function load_scripts() {
    	  
    	  var map_script = document.createElement("script");
    	  map_script.type = "text/javascript";
    	  map_script.src = "http://maps.googleapis.com/maps/api/js?key=AIzaSyAJLUd4j8dQFHAuD2gy9Fr60ZR1IDVaGnE&sensor=false&callback=pgu_geo_load_map_api_callback";
    	  document.body.appendChild(map_script);

          setTimeout(
                  function() {
                	  var charts_script = document.createElement("script");
                	  charts_script.type = "text/javascript";
                	  charts_script.src = "https://www.google.com/jsapi?callback=pgu_geo_load_charts_api_callback";
                	  document.body.appendChild(charts_script);
                  }
                  , 1000
              );
    	  
      }
      
      function addLoadEvent(func) {
    	  var oldonload = window.onload;
    	  if (typeof window.onload != 'function') {
    	    window.onload = func;
    	  } else {
    	    window.onload = function() {
    	      if (oldonload) {
    	        oldonload();
    	      }
    	      func();
    	    }
    	  }
      }

      addLoadEvent(load_scripts);
//       window.onload = load_script;

    </script>    
    <script type="text/javascript" src="js/showdown.js"></script>
    <script type="text/javascript" src="pgu_geo/pgu_geo.nocache.js"></script>
  </head>
  <body>
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>

  </body>
</html>
